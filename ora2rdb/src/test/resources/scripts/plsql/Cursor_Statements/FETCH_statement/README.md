--------------------------------

Тестирование оператора чтения курсора `FETCH` провоизводится для следующих типов PL/SQL объектов:

* Процедура
* Функция
* Пакет (подпроцедура и подфункция)
* Триггер DML
* Анонимный блок

Оператор `FETCH` работает с явно заданным курсором или с переменными типа курсора (то есть с типами, заданными TYPE ... IS REF CURSOR, типом SYS_REFCURSOR). 

Рассмотрим синтаксис оператора `FETCH`:

```sql
   FETCH { <курсор>
         | <переменная курсора>
         | :<host_cursor_variable> }
   { INTO { <переменная> [,<переменная>...]
          | <переменная типа RECORD>} 
   | BULK COLLECT INTO <список коллекций> 
          [LIMIT <числовое выражение>] 
   };
```

Синтаксис оператора `FETCH` в РБД имеет следующий вид:


```sql
  FETCH <курсор>
  [INTO { [:]<переменная>[,[:]<переменная>...]
        | <переменная типа RECORD>} ];
```

--------------------------------

### fetch_bulk_collect_2

Тестирование синтаксиса `BULK COLLECT`.
Синтаксис `BULK COLLECT` позволяет за одно обращение к базе данных извлечь из явного или неявного курсора несколько строк данных
и записать их в коллекцию (-ии).

Заполнение начинается с индекса 1, далее элементы вставляются последовательно (без пропусков), с заменой определенных ранее элементов.

В тесте в качестве коллекции выступает вложенная таблица с элементами-записями (rowtype).

- Коллекция конвертируется в GTT таблицу с ключом и полями rowtype.
- Объявляется вспомогательная переменная типа элемента коллекции (то есть rowtype), в которую будут записываться прочитанные строки из курсора.
- Выполняется оператор `FETCH` с записью в эту вспомогательную переменную в цикле `WHILE`. И в этом же цикле в GTT таблицу вставляются прочитанные записи.

--------------------------------

### fetch_bulk_collect_limit

Тестирование синтаксиса `BULK COLLECT` ключевым словом `LIMIT`,  ограничивающее количество выбираемых строк.
Синтаксис `BULK COLLECT` позволяет за одно обращение к базе данных извлечь из явного или неявного курсора несколько строк данных
и записать их в коллекцию (-ии).

Заполнение начинается с индекса 1, далее элементы вставляются последовательно (без пропусков), с заменой определенных ранее элементов.

В тесте в качестве коллекции выступает ассоциативный массив.

- Коллекция конвертируется в GTT таблицу.
- Объявляется вспомогательная переменная типа элемента коллекции, в которую будут записываться прочитанные строки из курсора.
- Объявляется переменная, хранящая значение `LIMIT`.
- Так как к ключу ассоциативного массива не привязан счетчик, а элементы вставляются последовательно с 1, то объявляется еще одна вспомогательная переменная-счетчик, чтобы в GTT таблицу вставлять значения ключей (для nested table и varray такая переменная не требуется).
- Выполняется оператор `FETCH` с записью в эту вспомогательную переменную в цикле `WHILE`. И в этом же цикле в GTT таблицу вставляются прочитанные записи.
- Также в цикле `WHILE` выполняется проверка на ограничение количества прочитанных строк.

--------------------------------

### fetch_bulk_collect

Тестирование синтаксиса `BULK COLLECT`.
Синтаксис `BULK COLLECT` позволяет за одно обращение к базе данных извлечь из явного или неявного курсора несколько строк данных
и записать их в коллекцию (-ии).

Заполнение начинается с индекса 1, далее элементы вставляются последовательно (без пропусков), с заменой определенных ранее элементов.

В тесте запись ведется сразу в 2 коллекции - вложенные таблицы.

- Коллекции конвертируются в GTT таблицы.
- Объявляются вспомогательные переменные типов элементов коллекций, в которые будут записываться прочитанные строки из курсора.
- Выполняется оператор `FETCH` с записью в эти вспомогательные переменные в цикле `WHILE`. И в этом же цикле в GTT таблицы вставляются прочитанные записи.

--------------------------------

### fetch_cursor_into_record

Тестирование оператора `FETCH`, в котором данные курсора записываются в переменную типа RECORD (rowtype).

--------------------------------

### fetch_cursor_into_var

Тестирование оператора `FETCH`, в котором данные курсора записываются в обычные переменные.

--------------------------------

### fetch_cursorvar

Тестирование оператора `FETCH` с чтением не из явного курсора, а из переменных курсора. Такой синтаксис не поддерживается, потому что не поддерживаются типы курсоров. 

--------------------------------